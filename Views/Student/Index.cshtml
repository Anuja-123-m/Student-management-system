@model StudentRecordManagementSystem.Models.Student
@{
    ViewData["Title"] = "My Record";
}
<div class="d-flex align-items-center justify-content-between mb-3">
    <h2 class="mb-0">My Academic Record</h2>
    <span class="text-muted small">Academic Year</span>
  </div>
@if (ViewBag.Message != null)
{
    <div class="alert alert-info">@ViewBag.Message</div>
}
<form asp-action="Index" asp-controller="Student" method="get" class="mb-3">
    <div class="input-group" style="max-width:420px;">
        <input type="text" name="roll" value="" class="form-control" placeholder="Enter Roll Number" />
        <button type="submit" class="btn btn-primary">View</button>
    </div>
    <small class="form-text text-muted">Enter your roll number to load marks if not auto-linked to your account.</small>
    <input type="hidden" name="_" value="@DateTime.UtcNow.Ticks" />
</form>
@{
    var total = Model.Maths + Model.Physics + Model.Chemistry + Model.English + Model.Programming;
    var percentage = (Model.RollNumber == null || Model.RollNumber == string.Empty) ? 0 : Math.Round(total / 5.0, 2);
}
<div class="card shadow-sm">
    <div class="card-body">
        <div class="row mb-3">
            <div class="col-md-6">
                <div class="mb-1 text-muted">Roll Number</div>
                <div class="fs-5">@Model.RollNumber</div>
            </div>
            <div class="col-md-6">
                <div class="mb-1 text-muted">Name</div>
                <div class="fs-5">@Model.Name</div>
            </div>
        </div>
        <div class="table-responsive">
            <table class="table table-striped align-middle">
                <thead>
                    <tr>
                        <th>Subject</th>
                        <th class="text-end" style="width:140px;">Marks</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>Maths</td><td class="text-end">@Model.Maths</td></tr>
                    <tr><td>Physics</td><td class="text-end">@Model.Physics</td></tr>
                    <tr><td>Chemistry</td><td class="text-end">@Model.Chemistry</td></tr>
                    <tr><td>English</td><td class="text-end">@Model.English</td></tr>
                    <tr><td>Programming</td><td class="text-end">@Model.Programming</td></tr>
                </tbody>
                <tfoot>
                    <tr>
                        <th>Total</th>
                        <th class="text-end">@total</th>
                    </tr>
                </tfoot>
            </table>
        </div>
        <div class="d-flex gap-2">
            <span class="badge bg-success-subtle text-success border border-success">Percentage: @percentage%</span>
            <span class="badge bg-secondary-subtle text-secondary border border-secondary">Out of 500</span>
        </div>
    </div>
</div>
